<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="../../../resources/templates/template.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="navigaion_content">
        <h:form id="searchPaydEntryForm">
            <ul class="nav" id="side-menu">
                <li><a href="../hrmsDashboard.xhtml"><i class="fa fa-circle-o text-red"></i> <span>Dashboard</span></a></li> 

            </ul>
        </h:form>
    </ui:define>

    <ui:define name="contents">    
        <p:growl id="growl1" showDetail="true" autoUpdate="true" severity="information"/>
        <div class="row">
            <div class="col-md-12">
                <div class="box box-info ">
                    <div class="box-header">
                        <h3 class="box-title">Monthly Allowance Amount Registration<small>Entry Form</small></h3>                       
                    </div>
                    <div class="box-body ">
                        <div class="box-body ">
                            <div class="nav-tabs-custom">
                                <ul class="nav nav-tabs">
                                    <li class="active"> <a href="#tabFamilyDetail" data-toggle="tab">Job Level</a></li>
                                    <li><a href="#tabMorgage" data-toggle="tab">Job Title</a></li>    
                                    <li><a href="#tabCourtCase" data-toggle="tab">Location</a></li>                                        
                                </ul>
                                <div class="tab-content" id="maintab">                                
                                    <div class="active tab-pane" id="tabFamilyDetail">

                                        <h:form>
                                            <section class="panel panel-info">
                                                <div class="box-header">
                                                    <h1 class="box-title"></h1>                       
                                                </div>
                                                <section class="panel-body">
                                                    <div class="form-group" >
                                                        <div class="col-sm-12" >
                                                            <div class="col-md-6 ">  
                                                                <div class="col-md-12 ">
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Earnings"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu id="drpEarningDed" required="true"  style="width: 100%" valueChangeListener="#{allownaceAmountRegistrationCont.handleChange}"  value="#{allownaceAmountRegistrationCont.code}"  >
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.handleChangeJobLevel}" update="@(form)" />
                                                                                <f:selectItem itemLabel="Select Earnings" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{ed.description}" itemValue="#{ed.code}" var="ed" value="#{allownaceAmountRegistrationCont.listOfEarningDeductions}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Job Levels"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu   style="width: 100%" required="true" requiredMessage="Please select Job Level !" value="#{allownaceAmountRegistrationCont.levelCode}"  valueChangeListener="#{allownaceAmountRegistrationCont.getJobLevel}">
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.onLevelChange()}" event="change" update="@this"/>
                                                                                <f:selectItem itemLabel="Select Levels" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{level.description}" itemValue="#{level.id}" var="level" value="#{allownaceAmountRegistrationCont.listOfJobLevels}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>

                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Payment in"   class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu  required="true" value="#{allownaceAmountRegistrationCont.hrAllowanceInLevels.allowanceIn}" valueChangeListener="#{allownaceAmountRegistrationCont.getJobLevelsPaymentIn}" style="width: 100%">                                        
                                                                                <p:ajax update="lblJobLableValues"/>
                                                                                <f:selectItem itemLabel="Birr" itemValue="Birr"/>
                                                                                <f:selectItem itemLabel="Percent" itemValue="Percent"/>
                                                                                <f:selectItem itemLabel="kind" itemValue="kind"/>
                                                                                <f:selectItem itemLabel="kind In Birr/Amount" itemValue="kind In Birr/Amount"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>

                                                                    <div class="form-group">
                                                                        <h:outputLabel value="#{allownaceAmountRegistrationCont.lableValue} " id="lblJobLableValues"   class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:inputText required="true"  id="txtjlAmount" validator="#{validatorManagedBean.Number}" style="float:right" value="#{allownaceAmountRegistrationCont.hrAllowanceInLevels.amount}" >

                                                                            </p:inputText>
                                                                            <p:message display="icon" for="txtjlAmount"/>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Remark"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:inputTextarea  value="#{allownaceAmountRegistrationCont.hrAllowanceInLevels.description}" style="float:right; width: 100%" >

                                                                            </p:inputTextarea>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>






                                                                    <div class="form-group">

                                                                        <div class="col-sm-8"> 
                                                                            <p:commandButton  id="btnSaveJoLevel"   update="@(form)" process="@(form)" value="#{allownaceAmountRegistrationCont.saveOrUpdate}" 
                                                                                              action="#{allownaceAmountRegistrationCont.saveAllowanceInJobLevel}" class="btn  btn-primary col-sm-6"/>
                                                                        </div>
                                                                    </div>  

                                                                </div> 
                                                            </div> 
                                                        </div> 
                                                    </div>
                                                </section> 
                                            </section>
                                        </h:form>


                                        <h:form id="frmT">
                                            <p:dataTable id="tblPension"  rowIndexVar="num"  rows="5"  var="allInJobLevel" paginator="true"
                                                         value="#{allownaceAmountRegistrationCont.listOfAllowanceInJobLevels}">
                                                <p:column  width="60">
                                                    <f:facet name="header">
                                                        <h:outputText value="S.NO" />
                                                    </f:facet>
                                                    <h:outputText value="#{num+1}"/>
                                                </p:column>                     
                                                <p:column width="300">
                                                    <f:facet name="header">
                                                        <h:outputText value="Job Level"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInJobLevel.levelId.description}"/>
                                                </p:column>
                                                <p:column width="100">
                                                    <f:facet name="header">
                                                        <h:outputText value="Unit"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInJobLevel.allowanceIn}"/>
                                                </p:column>
                                                <p:column width="200">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Respective Unit Value"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInJobLevel.amount}"/>
                                                </p:column>  
                                                <p:column width="200">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Description"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInJobLevel.description}"/>
                                                </p:column>  
                                                <p:column headerText="Option" style="width:100px;text-align: center">
                                                    <p:commandLink update="@(form)" immediate="true" value="Edit"  action="#{allownaceAmountRegistrationCont.edit()}">
                                                        <f:setPropertyActionListener value="#{allInJobLevel}"  target="#{allownaceAmountRegistrationCont.hrAllowanceInLevels}" />
                                                    </p:commandLink>
                                                </p:column>
                                            </p:dataTable>    
                                        </h:form>
                                    </div>


                                    <!--begining of morgate-->

                                    <div class="tab-pane" id="tabMorgage">
                                        <h:form>
                                            <section class="panel panel-info">
                                                <div class="box-header">
                                                    <h1 class="box-title"></h1>                       
                                                </div>
                                                <section class="panel-body">
                                                    <div class="form-group" >
                                                        <div class="col-sm-12" >
                                                            <div class="col-md-6 ">  
                                                                <div class="col-md-12 ">
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Earnings"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu  required="true"  style="width:100%" id="dropEarningForTitle"   valueChangeListener="#{allownaceAmountRegistrationCont.handleEarningDedCode}"  value="#{allownaceAmountRegistrationCont.earningDedCode}"  >
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.handleChange1}" update="@(form)" />
                                                                                <f:selectItem itemLabel="Select Earnings" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{ed.description}" itemValue="#{ed.code}" var="ed" value="#{allownaceAmountRegistrationCont.listOfEarningDeductions}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Job Title"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu  style="width:100%"  required="true" requiredMessage="Select Job title !" value="#{allownaceAmountRegistrationCont.jobTitleId}"  valueChangeListener="#{allownaceAmountRegistrationCont.handleJobTypeChange}">
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.onLevelChange()}" event="change" update="@this"/>
                                                                                <f:selectItem itemLabel="Select job Title" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{jobTitle.jobTitle}" itemValue="#{jobTitle.id}" var="jobTitle" value="#{allownaceAmountRegistrationCont.listOfJobTypes}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Payment in"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu valueChangeListener="#{allownaceAmountRegistrationCont.handleLablelChange}"
                                                                                             style="width:100%"  value="#{allownaceAmountRegistrationCont.hrAllowanceInJobTitle.paymentIn}">    
                                                                                <p:ajax update="lblJobTitle"/>
                                                                                <f:selectItem itemLabel="Birr" itemValue="Birr"/>
                                                                                <f:selectItem itemLabel="Percent" itemValue="Percent"/>
                                                                                <f:selectItem itemLabel="kind" itemValue="kind"/>
                                                                                <f:selectItem itemLabel="kind In Birr/Amount" itemValue="kind In Birr/Amount"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="#{allownaceAmountRegistrationCont.lableValue} " id="lblJobTitle" class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:inputText  id="txtJtAmount"  required="true" validator="#{validatorManagedBean.Number}" style="float:right" value="#{allownaceAmountRegistrationCont.hrAllowanceInJobTitle.amount}" >

                                                                            </p:inputText>
                                                                            <p:message display="icon" for="txtJtAmount"/>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Remark"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:inputTextarea  value="#{allownaceAmountRegistrationCont.hrAllowanceInJobTitle.description}" style="float:right" >

                                                                            </p:inputTextarea>
                                                                        </div>
                                                                    </div>  
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>

                                                                    <div class="form-group">

                                                                        <div class="col-sm-8"> 
                                                                            <p:commandButton id="btnSave1" value="#{allownaceAmountRegistrationCont.saveOrUpdate}" update="@(form)" actionListener="#{allownaceAmountRegistrationCont.saveAllowanceInTitle()}" class="btn  btn-primary col-sm-6"/>
                                                                        </div>
                                                                    </div>  

                                                                </div> 
                                                            </div> 
                                                        </div> 
                                                    </div>
                                                </section> 
                                            </section>
                                        </h:form>
                                        <h:form id="frmJotitleDtableForm">
                                            <p:dataTable id="tblAllInJobTitle"  rowIndexVar="num"  rows="5"  var="allInTitle" paginator="true"
                                                         value="#{allownaceAmountRegistrationCont.listOfAllowanceInJobTitle}">
                                                <p:column  width="60">
                                                    <f:facet name="header">
                                                        <h:outputText value="S.NO" />
                                                    </f:facet>
                                                    <h:outputText value="#{num+1}"/>
                                                </p:column>                     
                                                <p:column width="300">
                                                    <f:facet name="header">
                                                        <h:outputText value="Job Title"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInTitle.jobTitleId.jobTitle}"/>
                                                </p:column>
                                                <p:column width="100">
                                                    <f:facet name="header">
                                                        <h:outputText value="Unit"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInTitle.paymentIn}"/>
                                                </p:column>
                                                <p:column width="200">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Respective Unit Value"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInTitle.amount}"/>
                                                </p:column>  
                                                <p:column width="200">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Description"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInTitle.description}"/>
                                                </p:column>  
                                                <p:column headerText="Option" style="width:100px;text-align: center">
                                                    <p:commandLink update="@(form)" immediate="true" value="Edit"  action="#{allownaceAmountRegistrationCont.editAllInJobTitle()}">
                                                        <f:setPropertyActionListener value="#{allInTitle}"  target="#{allownaceAmountRegistrationCont.hrAllowanceInJobTitle}" />
                                                    </p:commandLink>
                                                </p:column>
                                            </p:dataTable>   
                                        </h:form>
                                    </div>



                                    <div class="tab-pane" id="tabCourtCase">
                                        <h:form>
                                            <section class="panel panel-info">
                                                <div class="box-header">
                                                    <h1 class="box-title"></h1>                       
                                                </div>
                                                <section class="panel-body">
                                                    <div class="form-group" >
                                                        <div class="col-sm-12" >
                                                            <div class="col-md-6 ">  
                                                                <div class="col-md-12 ">
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Earnings"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu  required="true" style="width:100%" id="dropAllowanceInLocation"   valueChangeListener="#{allownaceAmountRegistrationCont.handleEdForAllInLocation}"  value="#{allownaceAmountRegistrationCont.edForAllInLocation}"  >
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.handleAllownceInLocation}" update="@(form)"/>
                                                                                <f:selectItem itemLabel="Select Earnings" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{ed.description}" itemValue="#{ed.code}" var="ed" value="#{allownaceAmountRegistrationCont.listOfEarningDeductions}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>



                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Locations"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu required="true"  style="width:100%" id="drpLocation"   valueChangeListener="#{allownaceAmountRegistrationCont.handleEdForAllInLocation}"  value="#{allownaceAmountRegistrationCont.locationId}"  >
                                                                                <p:ajax listener="#{allownaceAmountRegistrationCont.handleChange1}" />
                                                                                <f:selectItem itemLabel="Select Locations" itemValue="#{null}"/>
                                                                                <f:selectItems itemLabel="#{ad.addressName}" itemValue="#{ad.addressId}" var="ad" value="#{allownaceAmountRegistrationCont.listOfAddresses}"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="Payment in"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:selectOneMenu valueChangeListener="#{allownaceAmountRegistrationCont.handleLablelChange}"  style="width:100%" value="#{allownaceAmountRegistrationCont.hrAllowanceInLocations.paymentIn}">                                        
                                                                                <p:ajax update="lblLocationValues"/>
                                                                                <f:selectItem itemLabel="Birr" itemValue="Birr"/>
                                                                                <f:selectItem itemLabel="Percent" itemValue="Percent"/>
                                                                                <f:selectItem itemLabel="kind" itemValue="kind"/>
                                                                                <f:selectItem itemLabel="kind In Birr/Amount" itemValue="kind In Birr/Amount"/>
                                                                            </p:selectOneMenu>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>
                                                                    <div class="form-group">
                                                                        <h:outputLabel value="#{allownaceAmountRegistrationCont.lableValue} " id="lblLocationValues"  class="control-label col-sm-4"/>
                                                                        <div class="col-sm-8"> 
                                                                            <p:inputText id="txtJlAmount" required="true" style="float:right" value="#{allownaceAmountRegistrationCont.hrAllowanceInLocations.amount}" >

                                                                            </p:inputText>
                                                                            <p:message display="icon" for="txtJlAmount"/>
                                                                        </div>
                                                                    </div> 
                                                                    <br></br>
                                                                    <p:spacer height="5px"></p:spacer>


                                                                    <div class="form-group">

                                                                        <div class="col-sm-8"> 
                                                                            <p:commandButton id="btnSave0" value="Save"  class="btn  btn-primary col-sm-6" actionListener="#{allownaceAmountRegistrationCont.saveAllowanceInLocation()}" update="@(form)"/>
                                                                        </div>
                                                                    </div>  

                                                                </div> 
                                                            </div> 
                                                        </div> 
                                                    </div>
                                                </section> 
                                            </section>
                                        </h:form>
                                        <h:form id="frmLocationDatatable">
                                            <p:dataTable id="tblAllInJobTitle"  rowIndexVar="num"  rows="5"  var="allInLoc" paginator="true"
                                                         value="#{allownaceAmountRegistrationCont.listOfAllowanceInLocation}">
                                                <p:column  width="60">
                                                    <f:facet name="header">
                                                        <h:outputText value="S.NO" />
                                                    </f:facet>
                                                    <h:outputText value="#{num+1}"/>
                                                </p:column>                     
                                                <p:column width="300">
                                                    <f:facet name="header">
                                                        <h:outputText value="Location"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInLoc.locationId.addressName}"/>
                                                </p:column>
                                                <p:column width="100">
                                                    <f:facet name="header">
                                                        <h:outputText value="Unit"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInLoc.paymentIn}"/>
                                                </p:column>
                                                <p:column width="200">
                                                    <f:facet name="header" >
                                                        <h:outputText value="Respective Unit Value"/>
                                                    </f:facet>
                                                    <h:outputText value="#{allInLoc.amount}"/>
                                                </p:column>  

                                                <p:column headerText="Option" style="width:100px;text-align: center">
                                                    <p:commandLink update="@(form)" immediate="true" value="Edit"  action="#{allownaceAmountRegistrationCont.editAllInLocation()}">
                                                        <f:setPropertyActionListener value="#{allInLoc}"  target="#{allownaceAmountRegistrationCont.hrAllowanceInLocations}" />
                                                    </p:commandLink>
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                </div></div></div>
    </ui:define>
</ui:composition>



