<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    template="../../../resources/templates/template.xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="navigaion_content">
        <li> <a href="../hrmsDashboard.xhtml"><i class="fa fa-fw fa-dashboard"></i> <span>Dashboard</span></a></li> 
        <li><a href="leaveType.xhtml"><i class="fa fa-fw"></i> <span>Leave Setting </span></a></li>       

        <li>      <a href="request_Leave.xhtml"><i class="fa fa-fw"></i>  <span>Leave Request</span></a> </li>

        <li>    <a href="request_Approve_1.xhtml"><i class="fa fa-fw"></i>  <span>Leave Approve Dept</span></a> </li>

        <li>    <a href="request_Approve.xhtml"><i class="fa fa-fw"></i>  <span>Leave Approve HR </span></a></li>

        <li>   <a href="return_Leave.xhtml"><i class="fa fa-fw"></i>  <span>Leave Balance </span></a></li>

        <li>    <a href="leaveBalance.xhtml"><i class="fa fa-fw"></i> <span>Generate Leave Balance </span></a> </li>
        <li>    <a href="leaveSchedule.xhtml"><i class="fa fa-fw"></i> <span>Leave Schedule Request </span></a> </li>
        <li> <a href="holiday.xhtml"><i class="fa fa-fw"></i>  <span>Manage Holiday  </span>  </a></li>
    </ui:define>

    <ui:define name="contents">


        <h:form id="searchform">   
            <p:growl severity="information,error"/>

            <p:panel id="panel">

                <br></br>
                <section class="panel panel-default">

                    <div class="panel-heading"><strong> Requests  </strong>  </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <div class="form-group">
                                <div class="col-sm-1" >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-2" >
                                    <p:outputLabel  value="Schedule: " class="control-label col-sm-2"/> 
                                    &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nabla;
                                    <p:outputLabel style="color:red" value="#{LeaveScheduleTransfer.noOfSchReq}"></p:outputLabel> </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5" >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-2" >
                                    <p:outputLabel  value="Transfer: " class="control-label col-sm-2"/>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nabla;
                                    <p:outputLabel style="color:red" value="#{LeaveScheduleTransfer.noOfTrReq}"></p:outputLabel>                                
                                </div>
                            </div>
                        </div>
                        <br></br>
                        <div class="form-group">
                            <div class="form-group">
                                <div class="col-sm-1" >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-2" >
                                    <p:selectOneMenu id="txtStatusList"  filter="true" filterMatchMode="contains" height="150" 
                                                     valueChangeListener="#{LeaveScheduleTransfer.changedSchedule}"     >       
                                        <f:selectItems id="selectOneMenuAppList" value="#{LeaveScheduleTransfer.newScheduleReqList()}"  />               
                                        <p:ajax event="change"  update=":registrationform" process="@this"/> 
                                    </p:selectOneMenu>         
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-5" >
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-2" >
                                    <p:selectOneMenu id="txtStatusList2"  filter="true" filterMatchMode="contains" height="150" 
                                                     valueChangeListener="#{LeaveScheduleTransfer.changedTransfer}"    >       
                                        <f:selectItems id="selectOneMenuAppList2"  value="#{LeaveScheduleTransfer.newTransferReqList()}"  />               
                                        <p:ajax event="change"  update=":registrationform" process="@this"/> 
                                    </p:selectOneMenu>         
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </p:panel>
        </h:form>
        <h:form id="registrationform">
            <p:growl severity="information,error"/>
            <div class="panel panel-info">
                <div class="panel-heading"><strong><span></span> <h:outputLabel  value="Requester Info" /></strong></div>
                <div class="panel-body">
                    <div class="form-horizontal  col-sm-12">
                        <div class="form-group">
                            <h:outputLabel id="lblRequesterName" class="control-label col-sm-2" value="Employee ID:"/>
                            <div class="col-sm-4">
                                <p:inputText style="width: 80%" id="txtEmpID" value="#{LeaveScheduleTransfer.leaveSchedule.employeeId.empId}" disabled="true"/> 
                            </div>
                            <h:outputLabel id="lblempId" class="control-label col-sm-2" value="Employee Name"/>
                            <div class="col-sm-4">
                                <p:inputText style="width: 80%" id="txtEmployeeID" value="#{LeaveScheduleTransfer.leaveSchedule.employeeId.firstName}" disabled="true"/> 
                            </div>
                        </div>
                    </div>
                    <div class="form-horizontal  col-sm-12">
                        <div class="form-group">
                            <h:outputLabel id="lblDept" class="control-label col-sm-2" value="Department"/>
                            <div class="col-sm-4">
                                <p:inputText style="width: 80%" id="txtDepartment" value="#{LeaveScheduleTransfer.leaveSchedule.employeeId.deptId.depName}" disabled="true" />
                            </div>
                            <h:outputLabel id="lblpos" class="control-label col-sm-2" value="Position"/>
                            <div class="col-sm-4">
                                <p:inputText style="width: 80%" id="txtposition" value="#{LeaveScheduleTransfer.leaveSchedule.employeeId.jobId.jobTitle}" disabled="true"/>
                            </div>
                        </div>
                    </div>
                    <div class="form-horizontal  col-sm-12">
                        <div class="form-group">                            
                            <h:outputLabel  value="Year: " class="control-label col-sm-2"/>
                            <div class="col-sm-4">                                
                                <p:inputText style="width: 80%" id="txtyr"   value="#{LeaveScheduleTransfer.leaveSchedule.leaveYearId.budgetYear}"   readonly="true"/>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <section class="panel panel-info">
                <section class="panel-heading"><strong><span></span> <h:outputLabel  value="Leave Month Options " /></strong></section>
                <section class="panel-body">  
                    <p:dataTable id="tblSchedules" var="tblSchedules" rowIndexVar="Det" value="#{LeaveScheduleTransfer.leaveScheduledet}" 
                                 scrollable="true" scrollHeight="100"
                                 rows="4"

                                 rowsPerPageLabel="5, 10, 15">
                                                         
                            <p:column  headerText="NO">
                                     <h:outputText  value="#{Det+1}"/>
                             </p:column>
                            <p:column headerText="Leave Month">
                                    <h:outputText value="#{tblSchedules.leaveMonth}"/>
                                </p:column>
                            <p:column headerText="Description">
                                    <h:outputText value="#{tblSchedules.description}"/>
                             </p:column>
                             <p:column headerText="Priority">
                                    <h:outputText value="#{tblSchedules.priority}"/>
                             </p:column>                         
                             <p:column headerText="Action" rendered="#{LeaveScheduleTransfer.showTransfer}">  
                            <p:commandLink action="#{LeaveScheduleTransfer.updateSchedule()}"  rendered="#{LeaveScheduleTransfer.showTransfer}"
                                           value="Edit" 
                                           process="@this"                                                        
                                           oncomplete="PF('dlg1').show();"
                                           update=":registrationform:dlgScheduleDetail">                                                   
                            </p:commandLink>
                        </p:column>
                    </p:dataTable> 
                    <p:dialog id="dlgScheduleDetail"  header="Leave Month " widgetVar="dlg1" >                      
                        <section class="panel-body" > 
                            <section class="form-horizontal  col-sm-12">
                                <section class="form-group"> 
                                    <section class=" col-sm-12">
                                        <label for="lblLeaveType" class="col-sm-4 control-label" >Leave Month</label>
                                        <div class="col-sm-6"> 

                                            <p:selectOneMenu id="drlmonths" value="#{LeaveScheduleTransfer.leaveScheduleDetile.leaveMonth}">
                                                <f:selectItem itemLabel="--------Select One-----" />
                                                <f:selectItem itemLabel="September" itemValue="September" />
                                                <f:selectItem itemLabel="October" itemValue="October" />
                                                <f:selectItem itemLabel="November" itemValue="November" />
                                                <f:selectItem itemLabel="December" itemValue="November" />
                                                <f:selectItem itemLabel="January" itemValue="January" />
                                                <f:selectItem itemLabel="Feberuary" itemValue="Feberuary" />
                                                <f:selectItem itemLabel="March" itemValue="March" />
                                                <f:selectItem itemLabel="April" itemValue="April" />
                                                <f:selectItem itemLabel="May" itemValue="May" />
                                                <f:selectItem itemLabel="June" itemValue="June" />
                                                <f:selectItem itemLabel="July" itemValue="July" />
                                                <f:selectItem itemLabel="August" itemValue="August" />
                                                <p:ajax></p:ajax>
                                            </p:selectOneMenu>

                                        </div> 
                                        <br />   <br />  
                                        <div class="form-group">
                                            <label for="lblbranch" class="col-sm-4 control-label" >Description:</label>
                                            <div class="col-sm-6">
                                                <p:inputTextarea id="txtremark" value="#{LeaveScheduleTransfer.leaveScheduleDetile.description}"/>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="lblpriority" class="col-sm-4 control-label" >Priority</label>
                                            <div class="col-sm-6">
                                                <p:inputTextarea id="lblpriority" value="#{LeaveScheduleTransfer.leaveScheduleDetile.priority}"/>
                                            </div>
                                        </div>
                                        <br />   


                                    </section>

                                    <div class="col-sm-12"> 
                                        <p:commandButton id="btnAdd" class="btn btn-success col-sm-push-4" value="Add"  action="#{LeaveScheduleTransfer.addToTable()}"
                                                         process="@this,dlgScheduleDetail"  
                                                         update="@this,:registrationform,tblSchedules,dlgScheduleDetail"
                                                         oncomplete="PF('dlg1').show();"/>


                                    </div>  
                                </section>            
                            </section>
                        </section>
                    </p:dialog> 
                </section>
            </section> 

            <p:panel id="pnlTransferReq" rendered="#{LeaveScheduleTransfer.diplayTransfer}">
                <div class="panel panel-info">
                    <div class="panel-heading"><strong><span></span> <h:outputLabel  value="Transfer Request" /></strong></div>
                    <div class="panel-body">
                        <div class="form-horizontal  col-sm-12">
                            <div class="form-group">
                                <h:outputLabel  class="control-label col-sm-2" value="To Month:"/>
                                <div class="col-sm-4">
                                    <p:inputText style="width: 80%" id="lblToMonth" 
                                                 value="#{LeaveScheduleTransfer.scheduleTransfer.monthTo}" readonly="true" /> 
                                </div>
                                <h:outputLabel  class="control-label col-sm-2" value="Reason"/>
                                <div class="col-sm-4">
                                    <p:inputTextarea style="width: 80%" id="txtdescription" readonly="true" 
                                                     value="#{LeaveScheduleTransfer.scheduleTransfer.descriptionrequester}" /> 
                                </div>
                            </div>
                        </div>                 
                    </div>
                </div>
            </p:panel>
            <p:panel id="pnlApprov">
                <div class="panel panel-info">
                    <div class="panel-heading"><strong><span></span> <h:outputLabel  value="Approval" /></strong></div>
                    <div class="panel-body">
                        <div class="form-horizontal  col-sm-12">
                            <div class="form-group">
                                <h:outputLabel  class="control-label col-sm-2" value="Decision:"/>
                                <div class="col-sm-4">
                                    <p:selectOneMenu id="txtClr" valueChangeListener="#{LeaveScheduleTransfer.changedDecision}" required="true">
                                        <f:selectItem itemLabel="---Select one---" noSelectionOption="true"/>
                                        <f:selectItem itemLabel="Approve" itemValue="Approved"/>
                                        <f:selectItem itemLabel="Reject" itemValue="Rejected"/>
                                    </p:selectOneMenu>
                                    <p:message for="txtClr" display="icon"/>
                                </div>
                                <h:outputLabel  class="control-label col-sm-2" value="Remark"  />
                                <div class="col-sm-4">
                                    <p:inputTextarea style="width: 80%" id="txtdescription2" rendered="#{LeaveScheduleTransfer.diplayTransfer}"
                                                     value="#{LeaveScheduleTransfer.scheduleTransfer.descriptionapprover}" /> 
                                </div>

                                <div class="col-sm-4">
                                    <p:inputTextarea style="width: 80%" id="txtdescription3"  rendered="#{LeaveScheduleTransfer.showTransfer}"
                                                     value="#{LeaveScheduleTransfer.leaveSchedule.description}" /> 
                                </div>
                            </div>
                        </div>                 
                    </div>
                </div>
            </p:panel>
            <p:panel id="pnlSave">
                <section class="panel-body"> 
                    <div class="col-sm-12"> 
                        <p:commandButton  id="btnMainSave" class="btn btn-success col-sm-push-4" value="#{LeaveScheduleTransfer.saveUpdate}"
                                          rendered="#{LeaveScheduleTransfer.btnStatus}"
                                          action="#{LeaveScheduleTransfer.saveOrUpdate()}"
                                          process=":registrationform,@this"  update="@this,:registrationform"/>
                    </div>  
                </section>  
            </p:panel>



        </h:form>
    </ui:define>


</ui:composition>
